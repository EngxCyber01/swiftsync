#!/bin/bash

# SwiftSync - Quick Deploy to Render
# This script helps you deploy the fixed version to Render.com

echo "üöÄ SwiftSync - Deploy to Render"
echo "================================"
echo ""

echo "üìã Pre-Deployment Checklist:"
echo "‚úì Fixed Telegram duplicate notifications"
echo "‚úì Fixed mobile login issues"
echo "‚úì Fixed PWA installation"
echo "‚úì Admin dashboard using real data"
echo "‚úì Added CORS for mobile support"
echo ""

echo "üîß Next Steps:"
echo ""
echo "1. Push code to GitHub:"
echo "   git add ."
echo "   git commit -m 'Fixed all mobile and deployment issues'"
echo "   git push origin main"
echo ""
echo "2. Go to Render Dashboard: https://dashboard.render.com"
echo ""
echo "3. Set Environment Variables:"
echo "   PORTAL_USERNAME=B02052324"
echo "   PORTAL_PASSWORD=emadXoshnaw1$"
echo "   GEMINI_API_KEY=AIzaSyDSmVBPQwOEPL5dq4tXPU7C8acbyjmZag8"
echo "   SECRET_ADMIN_KEY=emadCyberSoft4SOC"
echo "   TELEGRAM_BOT_TOKEN=8219473970:AAGlDEoRDCV1PMfRgvkrLMmGXiHfCfrzMXQ"
echo "   TELEGRAM_CHAT_ID=-1003523536992"
echo "   BASE_URL=https://swiftsync-013r.onrender.com"
echo "   RENDER=true"
echo ""
echo "4. Trigger Manual Deploy in Render"
echo ""
echo "5. Test After Deployment:"
echo "   - Health: curl https://swiftsync-013r.onrender.com/health"
echo "   - Sync: curl -X POST https://swiftsync-013r.onrender.com/api/sync-now"
echo "   - Mobile: Open on phone and try login + PWA install"
echo "   - Telegram: Check for notifications (should NOT duplicate)"
echo ""
echo "üì± Install PWA on Mobile:"
echo "   iOS: Safari ‚Üí Share ‚Üí Add to Home Screen"
echo "   Android: Chrome ‚Üí Menu ‚Üí Install App"
echo ""
echo "üõ°Ô∏è Admin Dashboard:"
echo "   https://swiftsync-013r.onrender.com/admin-portal?admin_key=emadCyberSoft4SOC"
echo ""
echo "‚úÖ All systems ready for production!"
echo ""
